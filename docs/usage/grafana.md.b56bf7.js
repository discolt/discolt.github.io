(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{1441:function(a,n){a.exports={content:["article",["p","Grafana 是一个开源指标分析和可视化套件，常用于可视化基础设施的性能数据和应用程序分析的时间序列数据。也可以应用于其他领域，包括工业传感器，家庭自动化，天气和过程控制。 本文通过简单示例展示如何使用 Grafana 连接 ZSearch 快速构建您的监控应用。"],["p",["img",{title:null,src:"https://cdn.nlark.com/yuque/0/2019/png/163907/1557059031411-cf6a7c67-fe56-4ae0-b819-5a57ad6538de.png",alt:"image.png"}]],["blockquote",["p","ZSearch 也使用 Grafana 作为后端的统一监控中心 "]],["h2","接入示例"],["p","Grafana 接入主要操作步骤如下："],["ol",["li",["p","准备样本数据。"]],["li",["p","下载 Grafana。"]],["li",["p","连接ZSearch数据源绘制图表。"]]],["h2","准备样本数据"],["ol",["li",["p","在 ZSearch 控制台创建日志型索引 monitor，表结构如下：\n",["img",{title:null,src:"https://intranetproxy.alipay.com/skylark/lark/0/2019/png/596/1550212324766-e55daa8f-1724-49a2-ada9-06e94d2a141d.png#align=left&display=inline&height=232&name=image.png&originHeight=464&originWidth=2256&size=96874&status=done&width=1128",alt:"image.png"}]]],["li",["p","准备样本数据 ",["code","request.json"]," 文件。"]]],["pre",{lang:"json",highlighted:'<span class="token punctuation">{</span><span class="token property">"index"</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token punctuation">{</span> <span class="token property">"cpu"</span> <span class="token operator">:</span> <span class="token string">"10"</span><span class="token punctuation">,</span> <span class="token property">"memory"</span><span class="token operator">:</span><span class="token string">"18.2"</span><span class="token punctuation">,</span> <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2019-02-14T11:10:00Z"</span> <span class="token punctuation">}</span>\n<span class="token punctuation">{</span><span class="token property">"index"</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token punctuation">{</span> <span class="token property">"cpu"</span> <span class="token operator">:</span> <span class="token string">"22"</span><span class="token punctuation">,</span> <span class="token property">"memory"</span><span class="token operator">:</span><span class="token string">"23.2"</span><span class="token punctuation">,</span> <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2019-02-14T11:11:00Z"</span> <span class="token punctuation">}</span>\n<span class="token punctuation">{</span><span class="token property">"index"</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token punctuation">{</span> <span class="token property">"cpu"</span> <span class="token operator">:</span> <span class="token string">"32"</span><span class="token punctuation">,</span> <span class="token property">"memory"</span><span class="token operator">:</span><span class="token string">"48.2"</span><span class="token punctuation">,</span> <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2019-02-14T11:12:00Z"</span> <span class="token punctuation">}</span>\n<span class="token punctuation">{</span><span class="token property">"index"</span> <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span>\n<span class="token punctuation">{</span> <span class="token property">"cpu"</span> <span class="token operator">:</span> <span class="token string">"15"</span><span class="token punctuation">,</span> <span class="token property">"memory"</span><span class="token operator">:</span><span class="token string">"18.2"</span><span class="token punctuation">,</span> <span class="token property">"timestamp"</span><span class="token operator">:</span> <span class="token string">"2019-02-14T11:13:00Z"</span> <span class="token punctuation">}</span>'},["code",'{"index" : {}}\n{ "cpu" : "10", "memory":"18.2", "timestamp": "2019-02-14T11:10:00Z" }\n{"index" : {}}\n{ "cpu" : "22", "memory":"23.2", "timestamp": "2019-02-14T11:11:00Z" }\n{"index" : {}}\n{ "cpu" : "32", "memory":"48.2", "timestamp": "2019-02-14T11:12:00Z" }\n{"index" : {}}\n{ "cpu" : "15", "memory":"18.2", "timestamp": "2019-02-14T11:13:00Z" }']],["ol",["li",["p","运行以下命令，上传样本数据到 ZSearch。"]]],["p",["strong","说明"],"：username 和 password 分别对应 ZSearch 应用详情页的 ",["strong","用户名"]," 和 ",["strong","密码"],"。"],["pre",{lang:"shell",highlighted:'curl <span class="token operator">-</span>u <span class="token variable">$username</span><span class="token punctuation">:</span><span class="token variable">$password</span> <span class="token operator">-</span>H <span class="token string">"Content-Type:application/json"</span>  http<span class="token punctuation">:</span><span class="token operator">/</span><span class="token operator">/</span><span class="token variable">$server</span><span class="token operator">/</span>monitor<span class="token operator">/</span>_doc<span class="token operator">/</span>_bulk <span class="token operator">-</span><span class="token operator">-</span>data<span class="token operator">-</span>binary <span class="token variable">@request</span><span class="token punctuation">.</span>json'},["code",'curl -u $username:$password -H "Content-Type:application/json"  http://$server/monitor/_doc/_bulk --data-binary @request.json']],["h2","Grafana 制作图表"],["ol",["li",["p","进入官方首页，下载最新版本 ",["a",{title:null,href:"https://grafana.com/grafana/download"},"Grafana"],"。"]],["li",["p","启动 Grafana，并访问 ",["a",{title:null,href:"http://localhost:3000"},"http://localhost:3000"],"，进入控制台。"]],["li",["p","添加云搜数据源（Elasticsearch）。",["img",{title:null,src:"https://intranetproxy.alipay.com/skylark/lark/0/2019/png/596/1550212391393-4bb04522-898e-46ab-8049-292930155d08.png#align=left&display=inline&height=608&name=image.png&originHeight=1716&originWidth=1522&size=433119&status=done&width=539",alt:"image.png"}]]],["li",["p","即可使用云搜数据源制作图表。",["br"],["img",{title:null,src:"https://intranetproxy.alipay.com/skylark/lark/0/2019/png/596/1550212401150-57b9214d-aa4d-4fbd-b901-661290dca8fd.png#align=left&display=inline&height=250&name=image.png&originHeight=1232&originWidth=2666&size=520562&status=done&width=542",alt:"image.png"}]]]]],meta:{category:"生态",order:2,title:{"zh-CN":"Grafana","en-US":"Grafana"},subtitle:"时序数据面板",filename:"docs/usage/grafana.md"},toc:["ul",["li",["a",{className:"bisheng-toc-h2",href:"#接入示例",title:"接入示例"},"接入示例"]],["li",["a",{className:"bisheng-toc-h2",href:"#准备样本数据",title:"准备样本数据"},"准备样本数据"]],["li",["a",{className:"bisheng-toc-h2",href:"#Grafana-制作图表",title:"Grafana 制作图表"},"Grafana 制作图表"]]]}}}]);